# VPN Distribution Directory

⚠️ **This directory contains PRIVATE KEYS and is excluded from git**

## Migration Notice (2026-02-13)

The VPN has been migrated from WireGuard to AmneziaWG. All configs in this directory are now AmneziaWG configs with traffic obfuscation enabled. Old WireGuard configs have been archived to `vpn-distribution-wireguard-archive/`.

## Purpose

This directory holds the generated AmneziaWG client configurations and QR codes for distribution to devices. All files in this directory contain sensitive private keys and must NOT be committed to version control.

## Contents

```
vpn-distribution/
├── configs/
│   ├── macos/           # macOS device configs (.conf files)
│   ├── windows/         # Windows device configs (.conf files)
│   ├── ios/             # iOS configs and QR codes
│   └── android/         # Android configs and QR codes
├── qr-codes/            # QR code images (PNG) and text versions
└── documentation/       # Distribution guides and references
```

## Security

✅ **SAFE:**
- This README file (no sensitive data)
- Documentation files

❌ **NEVER COMMIT:**
- `.conf` files (contain private keys)
- QR code images/text files
- Any files in this directory except this README

## Gitignore

This entire directory is excluded via `.gitignore`:
```
vpn-distribution/
```

Only this README file is allowed to be committed for documentation purposes.

## How Files Got Here

These files were generated by:
```bash
cd ansible
./scripts/onboard-vpn-clients.sh
```

Then copied from the temporary onboarding directory to here for easier access.

## Distribution

See `documentation/QUICK-REFERENCE.md` for device-specific distribution instructions.

## After Distribution

**IMPORTANT:** Delete all files in this directory (except this README) after distributing configs to all devices:

```bash
# Delete configs and QR codes (keep README)
rm -rf vpn-distribution/configs/*
rm -rf vpn-distribution/qr-codes/*
rm -rf vpn-distribution/documentation/*
```

Server-side keys remain backed up at `/etc/wireguard/clients/` on the VPN server.

## Re-generating Configs

If you need to regenerate configs (e.g., for new devices or key rotation):

```bash
cd ansible
./scripts/onboard-vpn-clients.sh

# Then copy to this directory again
cp -r /tmp/vpn-onboarding-*/distribution/* vpn-distribution/configs/
cp /tmp/vpn-onboarding-*/qr-codes/* vpn-distribution/qr-codes/
cp /tmp/vpn-onboarding-*/*.txt /tmp/vpn-onboarding-*/*.md vpn-distribution/documentation/
```

---

**Last Updated:** 2026-02-13 (migrated to AmneziaWG)
**Generated:** 2026-02-08 (original WireGuard), 2026-02-13 (AmneziaWG migration)
**VPN Server:** 8.222.187.10:54321 (Singapore)
**Protocol:** AmneziaWG (WireGuard with obfuscation)
**Documentation:** See `docs/vpn/ONBOARDING.md` and `docs/vpn/CLIENT_SETUP.md` for full guide
